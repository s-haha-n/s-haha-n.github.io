<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Three.js Mobile Controls</title>
        <style>
body {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    margin: 0;
    padding: 0;
}

.joystick {
    width: 20vmax;
    height: 20vmax;
    position: absolute;
    bottom: 1vmax;
    left: 1vmax;
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 50%;
}

.joystick-outline {
    width: 100%;
    height: 100%;
}

.joystick-handle-container {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.joystick-handle {
    position: absolute;
    width: 8vmax;
    height: 8vmax;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.6);
    top: 50%;
    left: 50%;
    margin-left: -4vmax;
    margin-top: -4vmax;
}
    canvas { display: block; }

/*    .button {
        position: absolute;
        bottom: 20px;
        width: 60px;
        height: 60px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 50%;
        color: white;
        font-size: 24px;
        text-align: center;
        line-height: 60px;
        touch-action: none;
    }
    #buttonA { right: 100px; }
    #buttonB { right: 20px; }
*/
    .button {
        width: 60px;
        height: 60px;
        background-color: rgba(0, 255, 0, 0.5);
        border-radius: 50%;
        touch-action: none;
        user-select: none;
        -webkit-user-select: none;
        -webkit-touch-callout: none;
        -webkit-tap-highlight-color: transparent;
        position: fixed;
        bottom: 20px;
        z-index: 999;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 28px;
        color: white;
        font-weight: bold;
    }

    /* Positioning for example */
    #buttonA {
        right: 100px;
    }

    #buttonB {
        right: 20px;
    }

    .button:active {
        background-color: rgba(255, 0, 0, 0.8);
    }

    .arrow {
        pointer-events: none; /* makes sure touches hit the button, not the icon inside */
    }

    /*---                --*/

    #minimap {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 150px;
        height: 150px;
        border: 2px solid white;
    }
    #rotationSpeed {
        width: 150px; /* Adjust the width as needed */
        height: 10px; /* Adjust the height as needed */
        vertical-align: middle;
    }

    #rotationSpeedValue {
        display: inline-block;
        width: 40px; /* Adjust the width as needed */
        text-align: center;
    }

        </style>
    </head>
    <body>

        <div id="debug-ui" style="position: fixed; top: 10px; left: 10px; 
                 background: rgba(255, 255, 255, 0.8); padding: 10px;">
            <label for="rotationSpeed">Rotation Speed:</label>
            <input type="range" id="rotationSpeed" min="0.01" max="0.1" step="0.01" value="0.02">
            <span id="rotationSpeedValue">0.02</span>
        </div>

        <div class="joystick">
            <svg class="joystick-outline" viewbox="-7 -7 310 310">
                <path
                        d="M150,0 A150,150 0 1,1 150,300 A150,150 0 1,1 150,0"
                        fill="none"
                        stroke="rgba(255, 255, 255, 0.4)"
                        stroke-width="5"
                        stroke-dasharray="205 30"
                        stroke-dashoffset="221"
                        />
            </svg>
            <div class="joystick-handle-container">
                <div class="joystick-handle"></div>
            </div>
        </div>

        <div id="buttonA" class="button" role="button">
            <span class="arrow">↓</span>
        </div>

        <div id="buttonB" class="button" role="button">
            <span class="arrow">↑</span>
        </div>

        <script type="importmap">
            {
      "imports": {
        "three": "https://unpkg.com/three@0.152.2/build/three.module.js"
      }
    }
        </script>
        <script type="module" src="main.js"></script>
    </body>
</html>

